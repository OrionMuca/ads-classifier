@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Modern Marketplace Color System - Default values, overridden by theme */
    --primary-50: #eef2ff;
    --primary-100: #e0e7ff;
    --primary-200: #c7d2fe;
    --primary-300: #a5b4fc;
    --primary-400: #818cf8;
    --primary-500: #6366f1;
    --primary-600: #4f46e5;
    --primary-700: #4338ca;
    --primary-800: #3730a3;
    --primary-900: #312e81;
    
    --secondary-50: #ecfdf5;
    --secondary-100: #d1fae5;
    --secondary-200: #a7f3d0;
    --secondary-300: #6ee7b7;
    --secondary-400: #34d399;
    --secondary-500: #10b981;
    --secondary-600: #059669;
    --secondary-700: #047857;
    --secondary-800: #065f46;
    --secondary-900: #064e3b;
    
    --accent-50: #fffbeb;
    --accent-100: #fef3c7;
    --accent-200: #fde68a;
    --accent-300: #fcd34d;
    --accent-400: #fbbf24;
    --accent-500: #f59e0b;
    --accent-600: #d97706;
    --accent-700: #b45309;
    --accent-800: #92400e;
    --accent-900: #78350f;
    
    --theme-background: #f8fafc;
    --theme-surface: #ffffff;
    --theme-text-primary: #0f172a;
    --theme-text-secondary: #64748b;
  }

  * {
    @apply border-slate-200 dark:border-slate-700;
  }

  html {
    background-color: var(--theme-background);
    color: var(--theme-text-primary);
    @apply antialiased;
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    overscroll-behavior-y: none;
    overscroll-behavior-x: none;
  }
  
  body {
    background-color: var(--theme-background);
    color: var(--theme-text-primary);
    @apply antialiased;
    width: 100%;
    min-height: 100vh;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    overscroll-behavior-y: none;
    overscroll-behavior-x: none;
    position: relative;
  }

/* Safe area class for mobile devices */
.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

  /* Ensure tables inherit font-family from body */
  table {
    font-family: inherit;
  }

  table th,
  table td {
    font-family: inherit;
  }

  /* Fix Next.js portal positioning */
  nextjs-portal {
    position: fixed !important;
    left: 0 !important;
    top: 0 !important;
    width: 0px !important;
    height: 0px !important;
    z-index: 9999 !important;
    pointer-events: none !important;
  }
  
  /* Ensure portal content is properly positioned */
  nextjs-portal > * {
    pointer-events: auto !important;
  }

  /* Mobile-friendly admin tables */
  @media (max-width: 768px) {
    .admin-table-container {
      position: relative;
      -webkit-overflow-scrolling: touch;
    }
    
    .admin-table-container::after {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      width: 30px;
      background: linear-gradient(to right, transparent, rgba(0, 0, 0, 0.05));
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.3s;
    }
    
    .admin-table-container.scrollable::after {
      opacity: 1;
    }
    
    table {
      min-width: 600px;
    }
    
    /* Better touch targets for mobile */
    button, a, select, input {
      min-height: 44px;
      min-width: 44px;
    }
  }
}

@layer components {
  /* Primary Buttons - Indigo */
  .btn-primary {
    @apply px-6 py-2.5 bg-primary-600 hover:bg-primary-700 active:bg-primary-800 text-white font-medium rounded-lg shadow-sm hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-sm;
  }

  /* Secondary Buttons - Slate */
  .btn-secondary {
    @apply px-6 py-2.5 bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-slate-900 dark:text-slate-100 font-medium rounded-lg transition-all duration-200;
  }

  /* Accent/CTA Buttons - Amber */
  .btn-accent {
    @apply px-6 py-2.5 bg-accent-500 hover:bg-accent-600 active:bg-accent-700 text-white font-medium rounded-lg shadow-sm hover:shadow-md transition-all duration-200;
  }

  /* Success Buttons - Emerald */
  .btn-success {
    @apply px-6 py-2.5 bg-secondary-500 hover:bg-secondary-600 active:bg-secondary-700 text-white font-medium rounded-lg shadow-sm hover:shadow-md transition-all duration-200;
  }

  /* Input Fields */
  .input {
    @apply w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-500 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200;
  }

  /* Labels */
  .label {
    @apply block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2;
  }

  /* Cards */
  .card {
    @apply bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 p-6;
  }

  /* Gradient Button - Primary to Indigo */
  .btn-gradient {
    @apply px-6 py-2.5 bg-gradient-to-r from-primary-600 to-indigo-600 hover:from-primary-700 hover:to-indigo-700 text-white font-medium rounded-lg shadow-md hover:shadow-lg transition-all duration-200 transform hover:-translate-y-0.5 active:translate-y-0;
  }

  /* Dropdown Menu */
  .dropdown-menu {
    @apply absolute right-0 mt-2 w-56 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 py-2 z-50 transform origin-top-right transition-all duration-200;
  }

  /* Dropdown Item */
  .dropdown-item {
    @apply flex items-center gap-3 px-4 py-2.5 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors cursor-pointer;
  }

  /* Avatar */
  .avatar {
    @apply h-10 w-10 rounded-full bg-gradient-to-br from-primary-100 to-indigo-100 dark:from-primary-900 dark:to-indigo-900 flex items-center justify-center text-primary-700 dark:text-primary-300 font-semibold text-sm border-2 border-white dark:border-slate-800 shadow-sm;
  }

  /* Badge/Tag */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-primary {
    @apply bg-primary-100 text-primary-800 dark:bg-primary-900/30 dark:text-primary-300;
  }

  .badge-success {
    @apply bg-secondary-100 text-secondary-800 dark:bg-secondary-900/30 dark:text-secondary-300;
  }

  .badge-accent {
    @apply bg-accent-100 text-accent-800 dark:bg-accent-900/30 dark:text-accent-300;
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Chrome, Safari and Opera */
  }
}